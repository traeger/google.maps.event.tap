<html>
  <head>
    <title>Longpress Test</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="../google.maps.event.tap.js"></script>
  </head>
  
  <body>
    <div id="map" style="width: 100%; height: 600px;" tabindex="-1">></div>
  </body>
  <script>
    var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 12,
    center: new google.maps.LatLng(52.519, 13.306),
    mapTypeId: google.maps.MapTypeId.ROADMAP,
    mapTypeControl: false,
    streetViewControl: true,
    panControl: false,
    scrollwheel: false,
    zoomControlOptions: {
      position: google.maps.ControlPosition.LEFT_TOP
    }
  });

  $('#map').focusin(function() {
    map.setOptions({scrollwheel: true});
  });
  $('#map').focusout(function() {
    map.setOptions({scrollwheel: false});
  });

  var infowindow = new google.maps.InfoWindow({
    maxHeight: 400
  });
  
  var onAddMarkerAttempt = function(e) {
    console.log('long tap detected!')
    window.alert('long tap detected!')
    var marker = new google.maps.Marker({
      position: e.latLng,
      title: 'long tap detected!'
    });
    marker.setMap(map);
  }
  
  maps_enable_longtapevent(map, 300);
  google.maps.event.addListener(map, "rightclick", onAddMarkerAttempt);
  google.maps.event.addListener(map, "longtap", onAddMarkerAttempt);
  </script>
</html>